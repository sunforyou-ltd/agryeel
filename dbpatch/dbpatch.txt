-- farm_status
ALTER TABLE farm_status ADD ikubyo_function integer;

UPDATE farm_status
SET 
ikubyo_function = 0;

-- work_last_time
ALTER TABLE work_last_time
ALTER COLUMN retusu TYPE double precision;

-- work_diary
ALTER TABLE work_diary
ALTER COLUMN retusu TYPE double precision;

-- work_plan
ALTER TABLE work_plan
ALTER COLUMN retusu TYPE double precision;

-- work_diary_detail
ALTER TABLE work_diary_detail ADD nae_no text;
ALTER TABLE work_diary_detail ADD kosu double precision;
ALTER TABLE work_diary_detail ADD retusu double precision;
ALTER TABLE work_diary_detail ADD joukan double precision;
ALTER TABLE work_diary_detail ADD jousu double precision;
ALTER TABLE work_diary_detail ADD planting_distance double precision;

UPDATE work_diary_detail
SET 
nae_no = '',
kosu = 0,
retusu = 0,
joukan = 0,
jousu = 0,
planting_distance = 0;

-- work_histry_detail
ALTER TABLE work_histry_detail ADD nae_no text;
ALTER TABLE work_histry_detail ADD kosu double precision;
ALTER TABLE work_histry_detail ADD retusu double precision;
ALTER TABLE work_histry_detail ADD joukan double precision;
ALTER TABLE work_histry_detail ADD jousu double precision;
ALTER TABLE work_histry_detail ADD planting_distance double precision;

UPDATE work_histry_detail
SET 
nae_no = '',
kosu = 0,
retusu = 0,
joukan = 0,
jousu = 0,
planting_distance = 0;

-- work_plan_detail
ALTER TABLE work_plan_detail ADD nae_no text;
ALTER TABLE work_plan_detail ADD kosu double precision;
ALTER TABLE work_plan_detail ADD retusu double precision;
ALTER TABLE work_plan_detail ADD joukan double precision;
ALTER TABLE work_plan_detail ADD jousu double precision;
ALTER TABLE work_plan_detail ADD planting_distance double precision;

UPDATE work_plan_detail
SET 
nae_no = '',
kosu = 0,
retusu = 0,
joukan = 0,
jousu = 0,
planting_distance = 0;

-- compartment_status
ALTER TABLE compartment_status ADD nae_no text;

UPDATE compartment_status
SET 
nae_no = '';

-- motocho_base
ALTER TABLE motocho_base ADD nae_no text;

UPDATE motocho_base
SET 
nae_no = '';

-- common
DELETE FROM common
WHERE common_class = 28;

INSERT INTO common(
            common_class, common_seq, common_name)
    VALUES (28, 1, 'マルチ'),
           (28, 2, '資材'),
           (28, 3, 'ビニール'),
           (28, 4, '土壌消毒用ビニール'),
           (28, 5, '潅水チューブ'),
           (28, 6, 'トンネル上ヘゴ'),
           (28, 7, 'トンネル下ヘゴ'),
           (28, 8, 'トンネルビニール'),
           (28, 9, 'ロータリー爪'),
           (28, 10, 'エンジンオイル'),
           (28, 11, '農具'),
           (28, 12, '農具消耗品');

-- work
INSERT INTO public.work(
	work_id, work_name, farm_id, work_template_id, item1, item2, item3, item4, item5, item6, item7, item8, item9, item10, numeric_item1, numeric_item2, numeric_item3, numeric_item4, numeric_item5, numeric_item6, numeric_item7, numeric_item8, numeric_item9, numeric_item10, work_picture, work_color, work_english, worning_per, note_per, danger_per, delete_flag)
	VALUES (206, '苗播種', 0, 21, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, '689f38', 'Naehashu', 25, 50, 75, 0),
	       (207, '刈り取り', 0, 22, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 'afb42b', 'Karitori', 25, 50, 75, 0),
	       (208, '廃棄', 0, 23, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, '512da8', 'Haiki', 25, 50, 75, 0);

--work_chain
INSERT INTO public.work_chain(
	work_chain_id, work_chain_name, farm_id, delete_flag)
	VALUES (36, 'AICA育苗作業', 4, 0);

--work_chain_item
INSERT INTO public.work_chain_item(
	work_chain_id, sequence_id, work_id, sanpu_combi_id, on_use_kiki_kind, work_mode, next_sequence_id, nouhi_kind, delete_flag)
	VALUES (36, 0, 206, 0, '1', 1, 0, 0, 0),
	       (36, 1, 8, 0, '6,7', 2, 0, 1, 0),
	       (36, 2, 10, 0, '3', 2, 0, 2, 0),
	       (36, 3, 9, 0, '11,12,13', 2, 0, 0, 0),
	       (36, 4, 207, 0, '1', 1, 0, 0, 0),
	       (36, 5, 208, 0, '1', 1, 0, 0, 0);
